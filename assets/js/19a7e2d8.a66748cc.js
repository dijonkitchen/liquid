"use strict";(self.webpackChunkliquid_docs=self.webpackChunkliquid_docs||[]).push([[5941],{8386:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var a=n(3117),i=(n(7294),n(3905));const r={},o="Python Liquid Extra",l={unversionedId:"extra/introduction",id:"extra/introduction",title:"Python Liquid Extra",description:"Python Liquid Extra is a repository of extra tags and filters for Python Liquid.",source:"@site/docs/extra/introduction.md",sourceDirName:"extra",slug:"/extra/introduction",permalink:"/liquid/extra/introduction",draft:!1,editUrl:"https://github.com/jg-rp/liquid/tree/docs/docs/extra/introduction.md",tags:[],version:"current",frontMatter:{},sidebar:"languageSidebar",previous:{title:"Liquid Tags",permalink:"/liquid/language/tags"},next:{title:"Extra Filters",permalink:"/liquid/extra/filters"}},p={},d=[{value:"Install",id:"install",level:2},{value:"Usage",id:"usage",level:2},{value:"Filters",id:"filters",level:3},{value:"Tags",id:"tags",level:3},{value:"Flask-Liquid",id:"flask-liquid",level:3},{value:"django-liquid",id:"django-liquid",level:3}],s={toc:d};function u(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"python-liquid-extra"},"Python Liquid Extra"),(0,i.kt)("p",null,"Python Liquid Extra is a repository of extra tags and filters for Python Liquid."),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},'These tags and filters are not part of "standard" Liquid. If you choose to use them in your templates, those templates are unlikely to render correctly with other implementations of Liquid.')),(0,i.kt)("h2",{id:"install"},"Install"),(0,i.kt)("p",null,"Install Python Liquid Extra using ",(0,i.kt)("a",{parentName:"p",href:"https://pipenv.pypa.io/en/latest/"},"Pipenv"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"$ pipenv install python-liquid-extra\n")),(0,i.kt)("p",null,"Or ",(0,i.kt)("a",{parentName:"p",href:"https://pip.pypa.io/en/stable/getting-started/"},"pip"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"$ python -m pip install -U python-liquid-extra\n")),(0,i.kt)("h2",{id:"usage"},"Usage"),(0,i.kt)("p",null,"Unlike ",(0,i.kt)("a",{parentName:"p",href:"/liquid/language/tags"},"standard tags and filters"),", which are registered for you automatically, you must register any extra tags and/or filters with an ",(0,i.kt)("a",{parentName:"p",href:"/liquid/api/Environment"},(0,i.kt)("inlineCode",{parentName:"a"},"Environment"))," explicitly. Just like you would with ",(0,i.kt)("a",{parentName:"p",href:"/liquid/guides/custom-tags"},"custom tags or filters"),"."),(0,i.kt)("h3",{id:"filters"},"Filters"),(0,i.kt)("p",null,"A filter function is any callable that accepts at least one argument, the result of the left hand side of a filtered expression. They can be implemented as simple functions, classes with a ",(0,i.kt)("inlineCode",{parentName:"p"},"__call__")," method or closures that return a function or callable object. The latter two could take additional arguments. Refer to the ",(0,i.kt)("a",{parentName:"p",href:"/liquid/extra/filters"},"extra filter reference")," to see what, if any, additional arguments they support."),(0,i.kt)("p",null,"Add a template filter to an ",(0,i.kt)("a",{parentName:"p",href:"/liquid/api/Environment"},(0,i.kt)("inlineCode",{parentName:"a"},"Environment"))," by calling its ",(0,i.kt)("a",{parentName:"p",href:"/liquid/api/Environment#add_filter"},(0,i.kt)("inlineCode",{parentName:"a"},"add_filter()"))," method. For example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'from liquid import Environment\nfrom liquid_extra import filters\n\nenv = Environment()\nenv.add_filter("json", filters.JSON())\n')),(0,i.kt)("h3",{id:"tags"},"Tags"),(0,i.kt)("p",null,"Some tags, like ",(0,i.kt)("a",{parentName:"p",href:"/liquid/extra/tags#if-not"},"if (not)"),", will replace standard, built-in tags. Others will introduce new tags. Refer to the ",(0,i.kt)("a",{parentName:"p",href:"/liquid/extra/tags"},"extra tag reference")," to see what features each tags adds and/or removes."),(0,i.kt)("p",null,"Register a tag with an ",(0,i.kt)("a",{parentName:"p",href:"/liquid/api/Environment"},(0,i.kt)("inlineCode",{parentName:"a"},"Environment"))," by calling its ",(0,i.kt)("a",{parentName:"p",href:"/liquid/api/Environment#add_tag"},(0,i.kt)("inlineCode",{parentName:"a"},"add_tag()"))," method. Then render templates from that environment. Notice that ",(0,i.kt)("inlineCode",{parentName:"p"},"add_tag()")," expects the tag class, not an instance of it."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"from liquid import Environment\nfrom liquid_extra.tags import IfNotTag\n\nenv = Environment()\nenv.add_tag(IfNotTag)\n")),(0,i.kt)("h3",{id:"flask-liquid"},"Flask-Liquid"),(0,i.kt)("p",null,"If you're using ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/jg-rp/Flask-Liquid"},"Flask-Liquid"),", you can get hold of the active ",(0,i.kt)("a",{parentName:"p",href:"/liquid/api/Environment"},(0,i.kt)("inlineCode",{parentName:"a"},"liquid.Environment"))," from an instance of the ",(0,i.kt)("inlineCode",{parentName:"p"},"Liquid")," extension."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python",metastring:'title="app.py"',title:'"app.py"'},'from flask import Flask\n\nfrom flask_liquid import Liquid\nfrom flask_liquid import render_template\n\nfrom liquid_extra import filters\nfrom liquid_extra import tags\n\napp = Flask(__name__)\n\nliquid = Liquid(app)\nliquid.env.add_filter("json", filters.JSON())\nliquid.env.add_tag(tags.IfNotTag)\n\n@app.route("/hello/")\n@app.route("/hello/<name>")\ndef index(name=None):\n    return render_template("index.html", name=name)\n')),(0,i.kt)("h3",{id:"django-liquid"},"django-liquid"),(0,i.kt)("p",null,"Using ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/jg-rp/django-liquid"},"django-liquid"),", the ",(0,i.kt)("a",{parentName:"p",href:"/liquid/api/Environment"},(0,i.kt)("inlineCode",{parentName:"a"},"liquid.Environment"))," needs to be configured with a factory function. In ",(0,i.kt)("inlineCode",{parentName:"p"},"settings.py"),", when configuring your ",(0,i.kt)("inlineCode",{parentName:"p"},"TEMPLATES")," backend, set the ",(0,i.kt)("inlineCode",{parentName:"p"},"environment")," option to the path of your environment factory function."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python",metastring:'title="myproject/liquid.py"',title:'"myproject/liquid.py"'},'from liquid import Environment\nfrom liquid_extra import filters\nfrom liquid_extra import tags\n\ndef environment(**options):\n    env = Environment(**options)\n    env.add_filter("json", filters.JSON())\n    env.add_tag(tags.IfNotTag)\n    # Register more filters or tags here.\n    return env\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python",metastring:'title="settings.py"',title:'"settings.py"'},"TEMPLATES = [\n    {\n        'BACKEND': 'django_liquid.liquid.Liquid',\n        'DIRS': [],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'environment': 'myproject.liquid.environment'\n        },\n    },\n]\n")))}u.isMDXComponent=!0},3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>f});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=a.createContext({}),d=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},s=function(e){var t=d(e.components);return a.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),m=d(n),f=i,c=m["".concat(p,".").concat(f)]||m[f]||u[f]||r;return n?a.createElement(c,o(o({ref:t},s),{},{components:n})):a.createElement(c,o({ref:t},s))}));function f(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var d=2;d<r;d++)o[d]=n[d];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"}}]);